{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Devi\\\\support-app\\\\mobile\\\\screens\\\\ConsultantsScreen.js\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { api } from \"../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ConsultantsScreen({\n  navigation,\n  route\n}) {\n  const [list, setList] = useState([]);\n  const userId = route?.params?.userId || null;\n  useEffect(() => {\n    (async () => {\n      try {\n        const res = await api.get(\"/consultants\");\n        setList(res.data);\n      } catch (e) {\n        console.log(\"Error loading consultants\", e.response?.data || e.message);\n      }\n    })();\n  }, []);\n  if (!userId) {\n    return _jsxDEV(View, {\n      style: {\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: [_jsxDEV(Text, {\n        children: \"Something went wrong. Please login again.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this), _jsxDEV(Button, {\n        title: \"Back to Login\",\n        onPress: () => navigation.replace(\"Login\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this);\n  }\n  return _jsxDEV(View, {\n    style: {\n      flex: 1,\n      padding: 16\n    },\n    children: _jsxDEV(FlatList, {\n      data: list,\n      keyExtractor: item => item._id,\n      renderItem: ({\n        item\n      }) => {\n        const name = item?.user?.name || \"Unknown Consultant\";\n        const bio = item?.bio || \"No bio available\";\n        return _jsxDEV(View, {\n          style: styles.card,\n          children: [_jsxDEV(Text, {\n            style: styles.name,\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 9\n          }, this), _jsxDEV(Text, {\n            style: styles.bio,\n            children: bio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 9\n          }, this), _jsxDEV(Button, {\n            title: \"Book Appointment\",\n            color: \"#3b82f6\",\n            onPress: () => navigation.navigate(\"Booking\", {\n              consultant: item,\n              userId\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\nconst styles = StyleSheet.create({\n  card: {\n    backgroundColor: \"white\",\n    padding: 16,\n    borderRadius: 12,\n    marginBottom: 12,\n    elevation: 3\n  },\n  name: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n    color: \"#111\"\n  },\n  bio: {\n    marginVertical: 8,\n    color: \"#555\"\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","FlatList","Text","Button","StyleSheet","api","jsxDEV","_jsxDEV","ConsultantsScreen","navigation","route","list","setList","userId","params","res","get","data","e","console","log","response","message","style","flex","justifyContent","alignItems","children","fileName","_jsxFileName","lineNumber","columnNumber","title","onPress","replace","padding","keyExtractor","item","_id","renderItem","name","user","bio","styles","card","color","navigate","consultant","create","backgroundColor","borderRadius","marginBottom","elevation","fontSize","fontWeight","marginVertical"],"sources":["C:/Users/Devi/support-app/mobile/screens/ConsultantsScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { View, FlatList, Text, Button, StyleSheet } from \"react-native\";\r\nimport { api } from \"../api/api\";\r\n\r\nexport default function ConsultantsScreen({ navigation, route }) {\r\n  const [list, setList] = useState([]);\r\n\r\n  // âœ… Safely read userId, avoid crash\r\n  const userId = route?.params?.userId || null;\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await api.get(\"/consultants\");\r\n        setList(res.data);\r\n      } catch (e) {\r\n        console.log(\"Error loading consultants\", e.response?.data || e.message);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  // Optional: if no userId, show a simple message instead of crashing\r\n  if (!userId) {\r\n    return (\r\n      <View style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}>\r\n        <Text>Something went wrong. Please login again.</Text>\r\n        <Button title=\"Back to Login\" onPress={() => navigation.replace(\"Login\")} />\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={{ flex: 1, padding: 16 }}>\r\n      <FlatList\r\n        data={list}\r\n        keyExtractor={(item) => item._id}\r\n        renderItem={({ item }) => {\r\n    const name = item?.user?.name || \"Unknown Consultant\";\r\n    const bio = item?.bio || \"No bio available\";\r\n\r\n    return (\r\n      <View style={styles.card}>\r\n        <Text style={styles.name}>{name}</Text>\r\n        <Text style={styles.bio}>{bio}</Text>\r\n\r\n        <Button\r\n          title=\"Book Appointment\"\r\n          color=\"#3b82f6\"\r\n          onPress={() =>\r\n            navigation.navigate(\"Booking\", {\r\n              consultant: item,\r\n              userId,\r\n            })\r\n          }\r\n      />\r\n    </View>\r\n  );\r\n}}\r\n\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  card: {\r\n    backgroundColor: \"white\",\r\n    padding: 16,\r\n    borderRadius: 12,\r\n    marginBottom: 12,\r\n    elevation: 3,\r\n  },\r\n  name: { fontSize: 20, fontWeight: \"bold\", color: \"#111\" },\r\n  bio: { marginVertical: 8, color: \"#555\" },\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}