{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport api from \"../api/api\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SlotScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _route$params = route.params,\n    consultantId = _route$params.consultantId,\n    userId = _route$params.userId;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    slots = _useState2[0],\n    setSlots = _useState2[1];\n  useEffect(function () {\n    api.get(\"/consultants/\" + consultantId + \"/slots\").then(function (res) {\n      return setSlots(res.data);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }, []);\n  var book = function book(date, time) {\n    api.post('/bookings', {\n      userId: userId,\n      consultantId: consultantId,\n      date: date,\n      time: time\n    }).then(function () {\n      alert('Appointment Booked!');\n      navigation.goBack();\n    }).catch(function () {\n      return alert('Slot already booked!');\n    });\n  };\n  return _jsx(View, {\n    style: {\n      padding: 20\n    },\n    children: slots.map(function (slot, i) {\n      return _jsxs(View, {\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 18,\n            marginVertical: 10\n          },\n          children: slot.date\n        }), _jsx(FlatList, {\n          data: slot.times,\n          horizontal: true,\n          renderItem: function renderItem(_ref2) {\n            var item = _ref2.item;\n            return _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return book(slot.date, item);\n              },\n              style: {\n                padding: 10,\n                backgroundColor: \"#ddd\",\n                margin: 5,\n                borderRadius: 8\n              },\n              children: _jsx(Text, {\n                children: item\n              })\n            });\n          }\n        })]\n      }, i);\n    })\n  });\n}","map":{"version":3,"names":["React","useState","useEffect","View","Text","TouchableOpacity","FlatList","api","jsx","_jsx","jsxs","_jsxs","SlotScreen","_ref","route","navigation","_route$params","params","consultantId","userId","_useState","_useState2","_slicedToArray","slots","setSlots","get","then","res","data","catch","err","console","log","book","date","time","post","alert","goBack","style","padding","children","map","slot","i","fontSize","marginVertical","times","horizontal","renderItem","_ref2","item","onPress","backgroundColor","margin","borderRadius"],"sources":["C:/Users/Devi/support-app/mobile/screens/SlotScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, FlatList } from 'react-native';\r\nimport api from '../api/api';\r\n\r\nexport default function SlotScreen({ route, navigation }) {\r\n  const { consultantId, userId } = route.params;\r\n  const [slots, setSlots] = useState([]);\r\n\r\n  useEffect(() => {\r\n    api.get(`/consultants/${consultantId}/slots`)\r\n      .then(res => setSlots(res.data))\r\n      .catch(err => console.log(err));\r\n  }, []);\r\n\r\n  const book = (date, time) => {\r\n    api.post('/bookings', { userId, consultantId, date, time })\r\n      .then(() => {\r\n        alert('Appointment Booked!');\r\n        navigation.goBack();\r\n      })\r\n      .catch(() => alert('Slot already booked!'));\r\n  };\r\n\r\n  return (\r\n    <View style={{ padding: 20 }}>\r\n      {slots.map((slot, i) => (\r\n        <View key={i}>\r\n          <Text style={{ fontSize: 18, marginVertical: 10 }}>{slot.date}</Text>\r\n          <FlatList\r\n            data={slot.times}\r\n            horizontal\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                onPress={() => book(slot.date, item)}\r\n                style={{ padding: 10, backgroundColor:\"#ddd\", margin: 5, borderRadius:8 }}\r\n              >\r\n                <Text>{item}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      ))}\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,QAAA;AAEnD,OAAOC,GAAG;AAAmB,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAE7B,eAAe,SAASC,UAAUA,CAAAC,IAAA,EAAwB;EAAA,IAArBC,KAAK,GAAAD,IAAA,CAALC,KAAK;IAAEC,UAAU,GAAAF,IAAA,CAAVE,UAAU;EACpD,IAAAC,aAAA,GAAiCF,KAAK,CAACG,MAAM;IAArCC,YAAY,GAAAF,aAAA,CAAZE,YAAY;IAAEC,MAAM,GAAAH,aAAA,CAANG,MAAM;EAC5B,IAAAC,SAAA,GAA0BnB,QAAQ,CAAC,EAAE,CAAC;IAAAoB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EAEtBnB,SAAS,CAAC,YAAM;IACdK,GAAG,CAACkB,GAAG,mBAAiBP,YAAY,WAAQ,CAAC,CAC1CQ,IAAI,CAAC,UAAAC,GAAG;MAAA,OAAIH,QAAQ,CAACG,GAAG,CAACC,IAAI,CAAC;IAAA,EAAC,CAC/BC,KAAK,CAAC,UAAAC,GAAG;MAAA,OAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAAA,EAAC;EACnC,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMG,IAAI,GAAG,SAAPA,IAAIA,CAAIC,IAAI,EAAEC,IAAI,EAAK;IAC3B5B,GAAG,CAAC6B,IAAI,CAAC,WAAW,EAAE;MAAEjB,MAAM,EAANA,MAAM;MAAED,YAAY,EAAZA,YAAY;MAAEgB,IAAI,EAAJA,IAAI;MAAEC,IAAI,EAAJA;IAAK,CAAC,CAAC,CACxDT,IAAI,CAAC,YAAM;MACVW,KAAK,CAAC,qBAAqB,CAAC;MAC5BtB,UAAU,CAACuB,MAAM,CAAC,CAAC;IACrB,CAAC,CAAC,CACDT,KAAK,CAAC;MAAA,OAAMQ,KAAK,CAAC,sBAAsB,CAAC;IAAA,EAAC;EAC/C,CAAC;EAED,OACE5B,IAAA,CAACN,IAAI;IAACoC,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAE;IAAAC,QAAA,EAC1BlB,KAAK,CAACmB,GAAG,CAAC,UAACC,IAAI,EAAEC,CAAC;MAAA,OACjBjC,KAAA,CAACR,IAAI;QAAAsC,QAAA,GACHhC,IAAA,CAACL,IAAI;UAACmC,KAAK,EAAE;YAAEM,QAAQ,EAAE,EAAE;YAAEC,cAAc,EAAE;UAAG,CAAE;UAAAL,QAAA,EAAEE,IAAI,CAACT;QAAI,CAAO,CAAC,EACrEzB,IAAA,CAACH,QAAQ;UACPsB,IAAI,EAAEe,IAAI,CAACI,KAAM;UACjBC,UAAU;UACVC,UAAU,EAAE,SAAZA,UAAUA,CAAAC,KAAA;YAAA,IAAKC,IAAI,GAAAD,KAAA,CAAJC,IAAI;YAAA,OACjB1C,IAAA,CAACJ,gBAAgB;cACf+C,OAAO,EAAE,SAATA,OAAOA,CAAA;gBAAA,OAAQnB,IAAI,CAACU,IAAI,CAACT,IAAI,EAAEiB,IAAI,CAAC;cAAA,CAAC;cACrCZ,KAAK,EAAE;gBAAEC,OAAO,EAAE,EAAE;gBAAEa,eAAe,EAAC,MAAM;gBAAEC,MAAM,EAAE,CAAC;gBAAEC,YAAY,EAAC;cAAE,CAAE;cAAAd,QAAA,EAE1EhC,IAAA,CAACL,IAAI;gBAAAqC,QAAA,EAAEU;cAAI,CAAO;YAAC,CACH,CAAC;UAAA;QACnB,CACH,CAAC;MAAA,GAbOP,CAcL,CAAC;IAAA,CACR;EAAC,CACE,CAAC;AAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}