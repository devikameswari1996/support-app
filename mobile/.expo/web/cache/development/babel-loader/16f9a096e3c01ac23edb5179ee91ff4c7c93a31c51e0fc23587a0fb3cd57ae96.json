{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { api } from \"../api/api\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function BookingScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _route$params = route.params,\n    consultant = _route$params.consultant,\n    userId = _route$params.userId;\n  var _useState = useState('2025-12-07'),\n    _useState2 = _slicedToArray(_useState, 2),\n    date = _useState2[0],\n    setDate = _useState2[1];\n  var _useState3 = useState('15:30'),\n    _useState4 = _slicedToArray(_useState3, 2),\n    time = _useState4[0],\n    setTime = _useState4[1];\n  var book = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var res = yield api.post('/bookings', {\n          userId: userId,\n          consultantId: consultant._id,\n          date: date,\n          time: time\n        });\n        alert('Booking confirmed!');\n        navigation.goBack();\n      } catch (e) {\n        var _e$response, _e$response2, _e$response2$data;\n        console.log(((_e$response = e.response) == null ? void 0 : _e$response.data) || e.message);\n        alert(((_e$response2 = e.response) == null ? void 0 : (_e$response2$data = _e$response2.data) == null ? void 0 : _e$response2$data.error) || 'Booking failed');\n      }\n    });\n    return function book() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: {\n      padding: 16\n    },\n    children: [_jsx(Text, {\n      style: {\n        fontWeight: 'bold',\n        fontSize: 18\n      },\n      children: consultant.user.name\n    }), _jsx(Text, {\n      children: consultant.bio\n    }), _jsx(Text, {\n      style: {\n        marginTop: 16\n      },\n      children: \"Date (YYYY-MM-DD)\"\n    }), _jsx(TextInput, {\n      value: date,\n      onChangeText: setDate,\n      style: {\n        borderWidth: 1,\n        padding: 8,\n        marginTop: 4\n      }\n    }), _jsx(Text, {\n      style: {\n        marginTop: 16\n      },\n      children: \"Time (HH:MM)\"\n    }), _jsx(TextInput, {\n      value: time,\n      onChangeText: setTime,\n      style: {\n        borderWidth: 1,\n        padding: 8,\n        marginTop: 4\n      }\n    }), _jsx(View, {\n      style: {\n        marginTop: 24\n      },\n      children: _jsx(Button, {\n        title: \"Confirm Booking\",\n        onPress: book\n      })\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","View","Text","TextInput","Button","api","jsx","_jsx","jsxs","_jsxs","BookingScreen","_ref","route","navigation","_route$params","params","consultant","userId","_useState","_useState2","_slicedToArray","date","setDate","_useState3","_useState4","time","setTime","book","_ref2","_asyncToGenerator","res","post","consultantId","_id","alert","goBack","e","_e$response","_e$response2","_e$response2$data","console","log","response","data","message","error","apply","arguments","style","padding","children","fontWeight","fontSize","user","name","bio","marginTop","value","onChangeText","borderWidth","title","onPress"],"sources":["C:/Users/Devi/support-app/mobile/screens/BookingScreen.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, Text, TextInput, Button } from 'react-native';\r\nimport { api } from '../api/api';\r\n\r\nexport default function BookingScreen({ route, navigation }) {\r\n  const { consultant, userId } = route.params;\r\n  const [date, setDate] = useState('2025-12-07'); // you can change\r\n  const [time, setTime] = useState('15:30');      // simple text input for now\r\n\r\n  const book = async () => {\r\n    try {\r\n      const res = await api.post('/bookings', {\r\n        userId,\r\n        consultantId: consultant._id,\r\n        date,\r\n        time\r\n      });\r\n      alert('Booking confirmed!');\r\n      navigation.goBack();\r\n    } catch (e) {\r\n      console.log(e.response?.data || e.message);\r\n      alert(e.response?.data?.error || 'Booking failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={{ padding: 16 }}>\r\n      <Text style={{ fontWeight: 'bold', fontSize: 18 }}>\r\n        {consultant.user.name}\r\n      </Text>\r\n      <Text>{consultant.bio}</Text>\r\n\r\n      <Text style={{ marginTop: 16 }}>Date (YYYY-MM-DD)</Text>\r\n      <TextInput\r\n        value={date}\r\n        onChangeText={setDate}\r\n        style={{ borderWidth: 1, padding: 8, marginTop: 4 }}\r\n      />\r\n\r\n      <Text style={{ marginTop: 16 }}>Time (HH:MM)</Text>\r\n      <TextInput\r\n        value={time}\r\n        onChangeText={setTime}\r\n        style={{ borderWidth: 1, padding: 8, marginTop: 4 }}\r\n      />\r\n\r\n      <View style={{ marginTop: 24 }}>\r\n        <Button title=\"Confirm Booking\" onPress={book} />\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}